{"mappings":"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","sources":["node_modules/@imaginary-maths/surfer-js-core-gpu/vendor/CindyJS/symbolic.js"],"sourcesContent":["(function(){\n'use strict';CindyJS.registerPlugin(1,\"symbolic\",function(h){function k(a){if(null==a||\"object\"!=typeof a)return a;if(a instanceof Array){var b=[];for(var g=0,c=a.length;g<c;g++)b[g]=k(a[g]);return b}if(a instanceof Object){b={};for(g in a)a.hasOwnProperty(g)&&0<=\"oper impl args ctype stack name arglist value real imag key obj body\".split(\" \").indexOf(g)&&(b[g]=k(a[g]));a.modifs&&(b.modifs=a.modifs);return b}}var c=function(a){return{ctype:\"number\",value:{real:a,imag:0}}},d=function(a,b){return{ctype:\"function\",\noper:a,args:b,modifs:{}}},u={sin$1:function(a){return[d(\"cos$1\",[a[0]])]},cos$1:function(a){return[d(\"sub$2\",[c(0),d(\"sin$1\",[a[0]])])]},exp$1:function(a){return[d(\"exp$1\",[a[0]])]},log$1:function(a){return[d(\"div$2\",[c(1),a[0]])]},sqrt$1:function(a){return[d(\"div$2\",[c(.5),d(\"sqrt$1\",[a[0]])])]},add$2:function(a){return[c(1),c(1)]},sub$2:function(a){return[c(1),c(-1)]},mult$2:function(a){return[a[1],a[0]]},div$2:function(a){return[d(\"div$2\",[c(1),a[1]]),d(\"div$2\",[d(\"sub$2\",[c(0),a[0]]),d(\"mult$2\",\n[a[1],a[1]])])]},pow$2:function(a){return[d(\"mult$2\",[a[1],d(\"pow$2\",[a[0],d(\"sub$2\",[a[1],c(1)])])]),d(\"mult$2\",[d(\"log$1\",[a[0]]),d(\"pow$2\",[a[0],a[1]])])]},\";\":function(a){return\"void\"==a[1].ctype?[c(1),c(0)]:[c(0),c(1)]}},w={sin$1:function(a,b){return Infinity},cos$1:function(a,b){return Infinity},exp$1:function(a,b){return Infinity},log$1:function(a,b){return Infinity},sqrt$1:function(a,b){return Infinity},add$2:function(a,b){return Math.max(e(a[0],b),e(a[1],b))},sub$2:function(a,b){return Math.max(e(a[0],\nb),e(a[1],b))},mult$2:function(a,b){return e(a[0],b)+e(a[1],b)},div$2:function(a,b){return 0===e(a[1],b)?e(a[0],b):Infinity},pow$2:function(a,b){return 0===e(a[1],b)?e(a[0],b)*h.evaluate(a[1]).value.real:Infinity},\";\":function(a,b){if(\"void\"===a[1].ctype)return e(a[0],b);h.evaluate(a[0]);return e(a[1],b)}},q={\"+\":\"add$2\",\"-\":\"sub$2\",\"*\":\"mult$2\",\"/\":\"div$2\",\"^\":\"pow$2\"},p=function(a,b){if(\"variable\"===a.ctype&&b[a.name])return b[a.name];a.args&&(a.args=a.args.map(function(a){return p(a,b)}));return a},\nf=function(a,b){return a&&\"number\"===a.ctype&&0===a.value.imag&&a.value.real===b},m=function(a){if(a.args&&(a.args=a.args.map(m),a.args.every(function(a){return\"number\"===a.ctype})))return h.evaluate(a);if(\"add$2\"===a.oper||\"+\"===a.oper){if(f(a.args[0],0))return a.args[1];if(f(a.args[1],0))return a.args[0]}else if(\"sub$2\"===a.oper||\"-\"===a.oper){if(f(a.args[1],0))return a.args[0]}else if(\"mult$2\"===a.oper||\"*\"===a.oper){if(f(a.args[0],0)||f(a.args[1],0))return c(0);if(f(a.args[0],1))return a.args[1];\nif(f(a.args[1],1))return a.args[0]}else if((\"pow$2\"===a.oper||\"^\"===a.oper)&&f(a.args[1],1))return a.args[0];return a},r=function(a,b){if(\"variable\"===a.ctype)return b[a.name]?b[a.name]:c(0);if(\"number\"===a.ctype)return c(0);if(\"infix\"===a.ctype||\"function\"===a.ctype){var g=h.getMyfunction(a.oper),e=c(0),v={};if(g)for(var n in a.args)v[g.arglist[n].name]=a.args[n];for(var m in a.args){n=r(a.args[m],b);var l=c(0);f(n,0)||(g?(l={},l[g.arglist[m].name]=c(1),l=p(k(r(k(g.body),l)),v)):u[q[a.oper]||a.oper]&&\n(l=u[q[a.oper]||a.oper](a.args)[m]),f(l,0)||(f(n,1)||(l=d(\"mult$2\",[l,n])),e=f(e,0)?l:d(\"add$2\",[e,l])))}return e}console.error(\"Do not know how to differentiate:\");console.log(a);return c(0)},e=function(a,b){if(\"variable\"===a.ctype)return b[a.name]?b[a.name]:0;if(\"number\"===a.ctype)return 0;if(\"infix\"===a.ctype||\"function\"===a.ctype){if(\";\"!=a.oper&&a.args.every(function(a){return 0===e(a,b)}))return 0;var c=h.getMyfunction(a.oper);if(c){var d={},f;for(f in a.args)d[c.arglist[f].name]=e(a.args[f],\nb);return e(m(k(c.body)),d)}if(c=w[q[a.oper]||a.oper])return c(a.args,b)}else if(\"void\"===a.ctype)return 0;console.log(\"Do not know how to compute the degree of:\");console.log(a);return Infinity};h.defineFunction(\"diff\",3,function(a,b){b={};if(!a[1].name)return h.nada;b[a[1].name]=c(1);b=m(r(k(a[0]),b));return h.evaluate(p(k(a[2]),{\"#\":b}))});h.defineFunction(\"simplify\",2,function(a,b){return h.evaluate(p(k(a[1]),{\"#\":m(k(a[0]))}))});for(var x=function(a,b){b={};for(var d in a)if(1<=d)if(\"variable\"===\na[d].ctype)b[a[d].name]=1;else return h.nada;a=e(m(k(a[0])),b);Infinity==a&&(a=-1);return c(a)},t=1;3>=t;t++)h.defineFunction(\"degree\",1+t,x)});\n}).call(this);//# sourceMappingURL=symbolic.js.map\n\n"],"names":["CindyJS","registerPlugin","h","k","a","Array","b","g","c","length","Object","hasOwnProperty","split","indexOf","modifs","ctype","value","real","imag","d","oper","args","u","sin$1","cos$1","exp$1","log$1","sqrt$1","add$2","sub$2","mult$2","div$2","pow$2","w","Infinity","Math","max","e","evaluate","q","p","name","map","f","m","every","r","getMyfunction","v","n","arglist","l","body","console","error","log","defineFunction","nada","x","t","call","this"],"version":3,"file":"index.031b0d5a.js.map"}